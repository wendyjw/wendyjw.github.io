<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>吴文君的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="吴文君的博客">
<meta property="og:url" content="https://wendyjw.github.io/project/index.html">
<meta property="og:site_name" content="吴文君的博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="wuwenjun">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/project/atom.xml" title="吴文君的博客" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/project/favicon.png">
  
  
  
<link rel="stylesheet" href="/project/css/style.css">

  
    
<link rel="stylesheet" href="/project/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/project/" id="logo">吴文君的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/project/" id="subtitle">技术记录</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/project/">Home</a>
        
          <a class="main-nav-link" href="/project/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/project/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://wendyjw.github.io/project"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-安卓自适应应用图标" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/project/2022/09/08/%E5%AE%89%E5%8D%93%E8%87%AA%E9%80%82%E5%BA%94%E5%BA%94%E7%94%A8%E5%9B%BE%E6%A0%87/" class="article-date">
  <time class="dt-published" datetime="2022-09-07T16:00:00.000Z" itemprop="datePublished">2022-09-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/project/2022/09/08/%E5%AE%89%E5%8D%93%E8%87%AA%E9%80%82%E5%BA%94%E5%BA%94%E7%94%A8%E5%9B%BE%E6%A0%87/">安卓自适应应用图标</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>问题: 上架时发现部分安卓手机，“每科档案” APP 的应用图标左右过于贴边<br>背景：<br>IOS 所有应用程序的图标都使用了圆角矩形图标，即使是第三方应用也被强制要求使用圆角矩形图标。<br>在 Android 上，应用图标可以是方形、圆形、圆角矩形、或者是其他任意不规则图形。<br>但由于 Android 操作系统是开源的，国内一些手机厂商在定制操作系统的时候就把这一特性给改了。比如小米手机，就选择了向苹果靠拢，强制要求应用图标圆角化。<br>终于在 Android 8.0 系统中，Google 下定决心要好好整治一下 Android 应用图标的规范性。</p>
<h2 id="1-Android-8-0-应用图标适配"><a href="#1-Android-8-0-应用图标适配" class="headerlink" title="1. Android 8.0 应用图标适配"></a>1. Android 8.0 应用图标适配</h2><p>从 Android 8.0 系统开始，应用程序的图标被分为了两层：前景层和背景层。也就是说，我们在设计应用图标的时候，需要将前景和背景部分分离，前景用来展示应用图标的 Logo，背景用来衬托应用图标的 Logo。需要注意的是，背景层在设计的时候只允许定义颜色和纹理，但是不能定义形状。</p>
<p>那么应用图标的形状由谁来定义呢？Google 将这个权利就交给手机厂商了。不是有些手机厂商喜欢学习苹果的圆角图标吗？没问题，由于应用图标的设计分为了两层，手机厂商只需要在这两层之上再盖上一层 mask，这个 mask 可以是圆角矩形、圆形或者是方形等等，视具体手机厂商而定，就可以瞬间让手机上的所有应用图标都变成相同的规范</p>
<p>何时需要适配？</p>
<p>如果你的 APP 中的 targetSdkVersion 是低于 26 的，那么就可以不用进行应用图标适配，Android 8.0 系统仍然是向下兼容的。<br>如果你将 targetSdkVersion 指定到了 26 或者更高，那么 Android 系统就会认为你的 APP 已经做好了 8.0 系统的适配工作，当然包括了应用图标的适配</p>
<h2 id="2-如何进行-8-0-系统的应用图标适配"><a href="#2-如何进行-8-0-系统的应用图标适配" class="headerlink" title="2. 如何进行 8.0 系统的应用图标适配"></a>2. 如何进行 8.0 系统的应用图标适配</h2><ol>
<li><p>确认 <code>targetSdkVersion &gt;= 26</code><br>打开 app&#x2F;build.gradle 文件，确认 targetSdkVersion 版本</p>
</li>
<li><p>查看应用图标文件<br>打卡 AndroidManifest.xml 文件，查看 android:icon 属性，该属性将应用的图标指定为了 mipmap 目录下的 ic_launcher 文件,<br>Android 8.0 或以上系统的手机，都会使用 mipmap-anydpi-v26 这个目录下的 ic_launcher 来作为图标。<br>注：android:roundIcon 属性，这是一个只适用在 Android 7.1 系统上的过渡版本，很快就被 8.0 系统的应用图标适配所替代了。</p>
</li>
<li><p>查看 ic_launcher<br>mipmap-anydpi-v26 目录下的 ic_launcher 并不是一张图片，而是一个 XML 文件，包含指定图标的背景层和前景层。<br>直接体现了在 8.0 系统的应用图标展示效果,可见过于贴边</p>
</li>
</ol>
<h2 id="3-如何解决过于贴边"><a href="#3-如何解决过于贴边" class="headerlink" title="3. 如何解决过于贴边"></a>3. 如何解决过于贴边</h2><ol>
<li>安卓自适应图标, 一个自适应的图标可以适应不同的使用情况</li>
</ol>
<ul>
<li>. 不同的形状：一个自适应图标可以在不同的设备型号上显示各种形状。例如，它可以在一个 OEM 设备上显示一个圆形，而在另一个设备上显示一个正方形。每个设备 OEM 必须提供一个掩码，系统用它来渲染所有具有相同形状的自适应图标<br>自适应图标支持各种遮罩层，这些遮罩层在不同的设备上有所不同</li>
<li>. 视觉效果：自适应图标支持各种吸引人的视觉效果，当用户在主屏幕上放置或移动图标时，这些效果会显示出来<br>注意：动画的视觉效果是由支持的启动器生成的。视觉效果可能因不同的发射器而异。</li>
<li>用户主题化：从安卓 13（API 级别 33）开始，用户可以给他们的自适应图标做主题。如果用户启用了主题应用图标（换句话说，在系统设置中打开了主题图标的开关），并且启动器支持这一功能，系统会使用用户选择的壁纸和主题的着色来决定色调的颜色。</li>
</ul>
<ol start="2">
<li>如何设置自适应图标</li>
</ol>
<ul>
<li><p>为图标提供两个图层：一个为前景，一个为背景。<br>第二张图片中的 72 x 72 安全区显示了你的图标和前景层永远不会被 OEM 定义的形状掩码所剪切的地方。</p>
</li>
<li><p>限制大小<br>所有图层的大小必须是 108 x 108 dp。<br>图标的边缘应该是干净的；图层在图标的轮廓周围不能有遮罩或背景阴影。<br>图标必须至少是 48 x 48 dp；它不能超过 72 x 72 dp，因为图标的内部 72 x 72 dp 会出现在遮罩的视口内。<br>图层四边的外侧 18dp 是为遮蔽和创造视觉效果（如视差或脉冲）而保留的。</p>
</li>
</ul>
<p>参考文章：</p>
<p><a target="_blank" rel="noopener" href="https://developer.android.com/develop/ui/views/launch/icon_design_adaptive">https://developer.android.com/develop/ui/views/launch/icon_design_adaptive</a><br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/25abce3f0492">https://www.jianshu.com/p/25abce3f0492</a><br><a target="_blank" rel="noopener" href="https://medium.com/google-design/designing-adaptive-icons-515af294c783">https://medium.com/google-design/designing-adaptive-icons-515af294c783</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wendyjw.github.io/project/2022/09/08/%E5%AE%89%E5%8D%93%E8%87%AA%E9%80%82%E5%BA%94%E5%BA%94%E7%94%A8%E5%9B%BE%E6%A0%87/" data-id="cm7bp26o30003qr8zadkk0hga" data-title="安卓自适应应用图标" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-TS 常用用法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/project/2020/03/08/TS%20%E5%B8%B8%E7%94%A8%E7%94%A8%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2020-03-07T16:00:00.000Z" itemprop="datePublished">2020-03-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/project/2020/03/08/TS%20%E5%B8%B8%E7%94%A8%E7%94%A8%E6%B3%95/">TS 常用用法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="1-enum"><a href="#1-enum" class="headerlink" title="1. enum"></a>1. enum</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">enum <span class="title class_">Direction</span> &#123;</span><br><span class="line">  <span class="title class_">Up</span>=<span class="string">&#x27;up&#x27;</span>,</span><br><span class="line">  <span class="title class_">Down</span>=<span class="string">&#x27;down&#x27;</span>,</span><br><span class="line">  <span class="title class_">Left</span>=<span class="string">&#x27;left&#x27;</span>,</span><br><span class="line">  <span class="title class_">Right</span>=<span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">  <span class="title class_">All</span>=<span class="title class_">Up</span>|<span class="title class_">Down</span>|<span class="title class_">Left</span>|<span class="title class_">Right</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">move</span>(<span class="params">direction: Direction</span>) &#123;</span><br><span class="line">  <span class="keyword">switch</span> (direction) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="title class_">Direction</span>.<span class="property">Up</span>:</span><br><span class="line">      <span class="comment">// move up</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="title class_">Direction</span>.<span class="property">Down</span>:</span><br><span class="line">      <span class="comment">// move down</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="title class_">Direction</span>.<span class="property">Left</span>:</span><br><span class="line">      <span class="comment">// move left</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="title class_">Direction</span>.<span class="property">Right</span>:</span><br><span class="line">      <span class="comment">// move right</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-接口继承"><a href="#2-接口继承" class="headerlink" title="2. 接口继承"></a>2. 接口继承</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="title class_">Animal</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: string;</span><br><span class="line">  <span class="title function_">eat</span>(): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">  <span class="title function_">bark</span>(): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">myDog</span>: <span class="title class_">Dog</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Buddy&quot;</span>,</span><br><span class="line">  <span class="title function_">eat</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Dog is eating&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">bark</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Woof woof!&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="3-交叉类型"><a href="#3-交叉类型" class="headerlink" title="3. 交叉类型"></a>3. 交叉类型</h2><p>需要注意的是，如果合并的接口类型中具有同名属性，且类型不同，则合并后类型为 never</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="title class_">ClassA</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: string;</span><br><span class="line">  <span class="attr">age</span>: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface <span class="title class_">ClassB</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: string;</span><br><span class="line">  <span class="attr">phone</span>: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="title class_">Class</span> = <span class="title class_">ClassA</span> &amp; <span class="title class_">ClassB</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">info</span>: <span class="title class_">Class</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;zhangsan&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="attr">phone</span>: <span class="number">15738755555</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wendyjw.github.io/project/2020/03/08/TS%20%E5%B8%B8%E7%94%A8%E7%94%A8%E6%B3%95/" data-id="cm7bp26o20001qr8z3z75e1nm" data-title="TS 常用用法" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-echarts + css3 实现环形图外环动效" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/project/2020/03/08/echarts%20+%20css3%20%E5%AE%9E%E7%8E%B0%E7%8E%AF%E5%BD%A2%E5%9B%BE%E5%A4%96%E7%8E%AF%E5%8A%A8%E6%95%88/" class="article-date">
  <time class="dt-published" datetime="2020-03-07T16:00:00.000Z" itemprop="datePublished">2020-03-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/project/2020/03/08/echarts%20+%20css3%20%E5%AE%9E%E7%8E%B0%E7%8E%AF%E5%BD%A2%E5%9B%BE%E5%A4%96%E7%8E%AF%E5%8A%A8%E6%95%88/">echarts + css3 实现环形图外环动效.md</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="1-enum"><a href="#1-enum" class="headerlink" title="1. enum"></a>1. enum</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">enum <span class="title class_">Direction</span> &#123;</span><br><span class="line">  <span class="title class_">Up</span>=<span class="string">&#x27;up&#x27;</span>,</span><br><span class="line">  <span class="title class_">Down</span>=<span class="string">&#x27;down&#x27;</span>,</span><br><span class="line">  <span class="title class_">Left</span>=<span class="string">&#x27;left&#x27;</span>,</span><br><span class="line">  <span class="title class_">Right</span>=<span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">  <span class="title class_">All</span>=<span class="title class_">Up</span>|<span class="title class_">Down</span>|<span class="title class_">Left</span>|<span class="title class_">Right</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">move</span>(<span class="params">direction: Direction</span>) &#123;</span><br><span class="line">  <span class="keyword">switch</span> (direction) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="title class_">Direction</span>.<span class="property">Up</span>:</span><br><span class="line">      <span class="comment">// move up</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="title class_">Direction</span>.<span class="property">Down</span>:</span><br><span class="line">      <span class="comment">// move down</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="title class_">Direction</span>.<span class="property">Left</span>:</span><br><span class="line">      <span class="comment">// move left</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="title class_">Direction</span>.<span class="property">Right</span>:</span><br><span class="line">      <span class="comment">// move right</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-接口继承"><a href="#2-接口继承" class="headerlink" title="2. 接口继承"></a>2. 接口继承</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="title class_">Animal</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: string;</span><br><span class="line">  <span class="title function_">eat</span>(): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">  <span class="title function_">bark</span>(): <span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">myDog</span>: <span class="title class_">Dog</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Buddy&quot;</span>,</span><br><span class="line">  <span class="title function_">eat</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Dog is eating&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">bark</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Woof woof!&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="3-交叉类型"><a href="#3-交叉类型" class="headerlink" title="3. 交叉类型"></a>3. 交叉类型</h2><p>需要注意的是，如果合并的接口类型中具有同名属性，且类型不同，则合并后类型为 never</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="title class_">ClassA</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: string;</span><br><span class="line">  <span class="attr">age</span>: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface <span class="title class_">ClassB</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: string;</span><br><span class="line">  <span class="attr">phone</span>: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="title class_">Class</span> = <span class="title class_">ClassA</span> &amp; <span class="title class_">ClassB</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">info</span>: <span class="title class_">Class</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;zhangsan&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="attr">phone</span>: <span class="number">15738755555</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wendyjw.github.io/project/2020/03/08/echarts%20+%20css3%20%E5%AE%9E%E7%8E%B0%E7%8E%AF%E5%BD%A2%E5%9B%BE%E5%A4%96%E7%8E%AF%E5%8A%A8%E6%95%88/" data-id="cme3z50mi00000sbod0vqa9wm" data-title="echarts + css3 实现环形图外环动效.md" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Set 新用法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/project/2017/03/08/Set%20%E6%96%B0%E7%94%A8%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2017-03-07T16:00:00.000Z" itemprop="datePublished">2017-03-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/project/2017/03/08/Set%20%E6%96%B0%E7%94%A8%E6%B3%95/">全新 Set 用法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li>Set.prototype.intersection(other)：返回两个集合的交集。</li>
<li>Set.prototype.union(other)：返回两个集合的并集。</li>
<li>Set.prototype.difference(other)：返回第一个集合与第二个集合的差集。</li>
<li>Set.prototype.symmetricDifference(other)：返回两个集合的对称差。</li>
<li>Set.prototype.isSubsetOf(other)：判断第一个集合是否是第二个集合的子集。</li>
<li>Set.prototype.isSupersetOf(other)：判断第一个集合是否是第二个集合的超集。</li>
<li>Set.prototype.isDisjointFrom(other)：判断两个集合是否不相交。</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建两个Set实例</span></span><br><span class="line"><span class="keyword">const</span> setA = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]);</span><br><span class="line"><span class="keyword">const</span> setB = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 交集: 返回两个集合的公共元素</span></span><br><span class="line"><span class="keyword">const</span> intersection = setA.<span class="title function_">intersection</span>(setB); <span class="comment">// Set &#123;3, 4&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 并集: 返回两个集合的所有元素，不重复</span></span><br><span class="line"><span class="keyword">const</span> union = setA.<span class="title function_">union</span>(setB); <span class="comment">// Set &#123;1, 2, 3, 4, 5, 6&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 差集: 返回第一个集合中有而第二个集合中没有的元素</span></span><br><span class="line"><span class="keyword">const</span> difference = setA.<span class="title function_">difference</span>(setB); <span class="comment">// Set &#123;1, 2&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 对称差: 返回在两个集合中的元素，但不返回同时存在于两个集合中的元素</span></span><br><span class="line"><span class="keyword">const</span> symmetricDifference = setA.<span class="title function_">symmetricDifference</span>(setB); <span class="comment">// Set &#123;1, 2, 5, 6&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 子集判断: 判断第一个集合是否是第二个集合的子集</span></span><br><span class="line"><span class="keyword">const</span> isSubset = setA.<span class="title function_">isSubsetOf</span>(setB); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 超集判断: 判断第一个集合是否是第二个集合的超集</span></span><br><span class="line"><span class="keyword">const</span> isSuperset = setA.<span class="title function_">isSupersetOf</span>(setB); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 不相交判断: 判断两个集合是否不相交</span></span><br><span class="line"><span class="keyword">const</span> isDisjoint = setA.<span class="title function_">isDisjointFrom</span>(setB); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wendyjw.github.io/project/2017/03/08/Set%20%E6%96%B0%E7%94%A8%E6%B3%95/" data-id="cm7bp26nz0000qr8z0k6u9u0n" data-title="全新 Set 用法" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-cookie 、localStorage 、sessionStorage 以及 H5 缓存" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/project/2017/03/08/cookie%20%E3%80%81localStorage%20%E3%80%81sessionStorage%20%E4%BB%A5%E5%8F%8A%20H5%20%E7%BC%93%E5%AD%98/" class="article-date">
  <time class="dt-published" datetime="2017-03-07T16:00:00.000Z" itemprop="datePublished">2017-03-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/project/2017/03/08/cookie%20%E3%80%81localStorage%20%E3%80%81sessionStorage%20%E4%BB%A5%E5%8F%8A%20H5%20%E7%BC%93%E5%AD%98/">cookie 、localStorage 、sessionStorage 以及 H5 缓存</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="cookie-详解"><a href="#cookie-详解" class="headerlink" title="cookie 详解"></a>cookie 详解</h2><p>存储 cookie 是浏览器的功能，浏览器下有一个 cookie 文件夹专门存放各个域下设置的 cookie，cookie 是存储在浏览器的纯文本</p>
<p>当网页要发 http 请求时，浏览器会先检查是否有相应的 cookie，有则自动添加在 request header 中的 cookie 字段中。这些是浏览器自动帮我们做的，而且每一次 http 请求浏览器都会自动帮我们做</p>
<h3 id="cookie-的格式"><a href="#cookie-的格式" class="headerlink" title="cookie 的格式"></a>cookie 的格式</h3><ol>
<li>document.cookie<br>原生 js 获取 cookie 的方法，得到一个字符串，但这个字符串是有格式的，由键值对 key&#x3D;value 构成，键值对之间由一个分号和一个空格隔开。</li>
</ol>
<p>“key&#x3D;value; key&#x3D;value”<br>cookie 属性选项<br>包括：expires、domain、path、secure、HttpOnly，</p>
<p>在设置任一个 cookie 时都可以设置相关的这些属性，当然也可以不设置，这时会使用这些属性的默认值。在设置这些属性时，属性之间由一个分号和一个空格隔开。如下：</p>
<p>“key&#x3D;name; expires&#x3D;Thu, 25 Feb 2016 04:18:00 GMT;domain&#x3D;ppsc.sankuai.com; path&#x3D;&#x2F;; secure; HttpOnly”<br>expires<br>expires 选项用来设置“cookie 什么时间内有效”。expires 其实是 cookie 失效日期，expires 必须是 GMT 格式的时间（可以通过 new Date().toGMTString()或者 new Date().toUTCString()来获得）。</p>
<p>expires 的值是一个时间点（cookie 失效时刻&#x3D; expires）; 如 expires&#x3D;Thu, 25 Feb 2016 04:18:00 GMT 表示 cookie 讲在 2016 年 2 月 25 日 4:18 分之后失效，对于失效的 cookie 浏览器会清空。如果没有设置该选项，则默认有效期为 session，即会话 cookie。这种 cookie 在浏览器关闭后就没有了。</p>
<p>http&#x2F;1.0 协议，cookie 被 max-age 代替，max-age 的值是一个以秒为单位时间段（cookie 失效时刻&#x3D; 创建时刻+ max-age）。</p>
<ol start="2">
<li><p>domain 和 path<br>domain 是域名，path 是路径，两者加起来就构成了 URL，domain 和 path 一起来限制 cookie 能被哪些 URL 访问。</p>
</li>
<li><p>secure<br>secure 选项用来设置 cookie 只在确保安全的请求中才会发送。当请求是 HTTPS 或者其他安全协议时，包含 secure 选项的 cookie 才能被发送至服务器。</p>
</li>
</ol>
<p>默认情况下，cookie 不会带 secure 选项(即为空)。所以默认情况下，不管是 HTTPS 协议还是 HTTP 协议的请求，cookie 都会被发送至服务端。但要注意一点，secure 选项只是限定了在安全情况下才可以传输给服务端，但并不代表你不能看到这个 cookie。</p>
<p>document.cookie&#x3D;”name&#x3D;king; secure”<br>如果想在客户端即网页中通过 js 去设置 secure 类型的 cookie，必须保证网页是 https 协议的。在 http 协议的网页中是无法设置 secure 类型 cookie 的。</p>
<ol start="4">
<li>httpOnly<br>这个选项用来设置 cookie 是否能通过 js 去访问。默认情况下，cookie 不会带 httpOnly 选项(即为空)，所以默认情况下，客户端是可以通过 js 代码去访问（包括读取、修改、删除等）这个 cookie 的。当 cookie 带 httpOnly 选项时，客户端则无法通过 js 代码去访问（包括读取、修改、删除等）这个 cookie。</li>
</ol>
<p>在客户端是不能通过 js 代码去设置一个 httpOnly 类型的 cookie 的，这种类型的 cookie 只能通过服务端来设置。</p>
<h3 id="如何设置-cookie"><a href="#如何设置-cookie" class="headerlink" title="如何设置 cookie"></a>如何设置 cookie</h3><h4 id="服务端客户端均可设置-cookie"><a href="#服务端客户端均可设置-cookie" class="headerlink" title="服务端客户端均可设置 cookie"></a>服务端客户端均可设置 cookie</h4><ol>
<li>服务端<br>不管你是请求一个资源文件（如 html&#x2F;js&#x2F;css&#x2F;图片），还是发送一个 ajax 请求，服务端都会返回 response。而 response header 中有一项叫 set-cookie，是服务端专门用来设置 cookie 的。如下图所示，服务端返回的 response header 中有 5 个 set-cookie 字段，每个字段对应一个 cookie（注意不能将多个 cookie 放在一个 set-cookie 字段中），set-cookie 字段的值就是普通的字符串，每个 cookie 还设置了相关属性选项。</li>
</ol>
<p>一个 set-Cookie 字段只能设置一个 cookie，当你要想设置多个 cookie，需要添加同样多的 set-Cookie 字段。</p>
<p>服务端可以设置 cookie 的所有选项：expires、domain、path、secure、HttpOnly</p>
<ol start="2">
<li>客户端设置 cookie<br>js 代码实现：<br><code>document.cookie=&quot;xxx=yyy&quot;</code><br>客户端可以设置 cookie 的下列选项：expires、domain、path、secure（有条件：只有在 https 协议的网页中，客户端设置 secure 类型的 cookie 才能成功），但无法设置 HttpOnly 选项</li>
</ol>
<p>js 设置多个 cookie，一次只能设置一次成功。所以重复执行</p>
<pre><code>document.cookie=&quot;key=value&quot;：

document.cookie = &quot;name=Jonh&quot;;

document.cookie = &quot;age=12&quot;;

document.cookie = &quot;class=111&quot;;
</code></pre>
<h4 id="修改、删除-cookie"><a href="#修改、删除-cookie" class="headerlink" title="修改、删除 cookie"></a>修改、删除 cookie</h4><ol>
<li><p>修改：<br>要想修改一个 cookie，只需要重新赋值就行，旧的值会被新的值覆盖。但要注意一点，在设置新 cookie 时，path&#x2F;domain 这几个选项一定要旧 cookie 保持一样。否则不会修改旧值，而是添加了一个新的 cookie。</p>
</li>
<li><p>删除：<br>删除一个 cookie 也是重新赋值，只要将这个新 cookie 的 expires 选项设置为一个过去的时间点就行了。但同样要注意，path&#x2F;domain&#x2F;这几个选项一定要旧 cookie 保持一样。</p>
</li>
</ol>
<h4 id="cookie-编码"><a href="#cookie-编码" class="headerlink" title="cookie 编码"></a>cookie 编码</h4><p>cookie 其实是个字符串，但这个字符串中逗号、分号、空格被当做了特殊符号。所以当 cookie 的 key 和 value 中含有这 3 个特殊字符时，需要对其进行额外编码，一般会用 escape 进行编码，读取时用 unescape 进行解码；</p>
<pre><code>var key = (&quot;name;value&quot;);

var value = escape(&quot;this is a value contain , and ;&quot;);

document.cookie= key + &quot;=&quot; + value + &quot;; expires=Thu, 26 Feb 2116 11:50:25 GMT; domain=sankuai.com; path=/&quot;;
一个小例子，页面加载时显示上次保存的信息

function getCookie(c_name) &#123;
  if (document.cookie.length &gt; 0) &#123;
    c_start = document.cookie.indexOf(c_name + &quot;=&quot;)
    if (c_start != -1) &#123;
      c_start = c_start + c_name.length + 1
      c_end = document.cookie.indexOf(&quot;;&quot;, c_start)
    if (c_end == -1) c_end = document.cookie.length
      return unescape(document.cookie.substring(c_start, c_end))
    &#125;
  &#125;
  return &quot;&quot;
&#125;
function setCookie(c_name, value, expiredays) &#123;
    var exdate = new Date()
    exdate.setDate(exdate.getDate() + expiredays)
    document.cookie = c_name + &quot;=&quot; + escape(value) +
    ((expiredays == null) ? &quot;&quot; : &quot;;expires=&quot; + exdate.toGMTString())
    &#125;
    function checkCookie() &#123;
      username = getCookie(&#39;username&#39;)
      if (username != null &amp;&amp; username != &quot;&quot;) &#123;
        alert(&#39;Welcome again &#39; + username + &#39;!&#39;)
      &#125;
      else &#123;
        username = prompt(&#39;Please enter your name:&#39;, &quot;&quot;)
        if (username != null &amp;&amp; username != &quot;&quot;) &#123;
          setCookie(&#39;username&#39;, username, 365)
        &#125;
    &#125;
&#125;
</code></pre>
<h2 id="localStorage-sessionStorage"><a href="#localStorage-sessionStorage" class="headerlink" title="localStorage sessionStorage"></a>localStorage sessionStorage</h2><h3 id="localStorage"><a href="#localStorage" class="headerlink" title="localStorage"></a>localStorage</h3><p>方法存储的数据没有时间限制。</p>
<p>localStorage.lastname&#x3D;”Smith”;</p>
<h3 id="sessionStorage"><a href="#sessionStorage" class="headerlink" title="sessionStorage"></a>sessionStorage</h3><p>方法针对一个 session 进行数据存储。当用户关闭浏览器窗口后，数据会被删除。</p>
<p>sessionStorage.firsrname&#x3D;’king’</p>
<h2 id="H5-应用程序缓存"><a href="#H5-应用程序缓存" class="headerlink" title="H5 应用程序缓存"></a>H5 应用程序缓存</h2><p>HTML5 引入了应用程序缓存，这意味着 web 应用可进行缓存，并可在没有因特网连接时进行访问。</p>
<p>Cache Manifest<br>如需启用应用程序缓存，请在文档的 标签中包含 manifest 属性：</p>
<p>manifest 文件<br>CACHE MANIFEST- 在此标题下列出的文件将在首次下载后进行缓存</p>
<p>NETWORK- 在此标题下列出的文件需要与服务器的连接，且不会被缓存</p>
<p>FALLBACK- 在此标题下列出的文件规定当页面无法访问时的回退页面（比如 404 页面）</p>
<p>一个完整的 manifest 文件<br>CACHE MANIFEST</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wendyjw.github.io/project/2017/03/08/cookie%20%E3%80%81localStorage%20%E3%80%81sessionStorage%20%E4%BB%A5%E5%8F%8A%20H5%20%E7%BC%93%E5%AD%98/" data-id="cm7bp26o30002qr8z3yhv8zbx" data-title="cookie 、localStorage 、sessionStorage 以及 H5 缓存" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/project/archives/2022/09/">九月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/project/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/project/archives/2017/03/">三月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/project/2022/09/08/%E5%AE%89%E5%8D%93%E8%87%AA%E9%80%82%E5%BA%94%E5%BA%94%E7%94%A8%E5%9B%BE%E6%A0%87/">安卓自适应应用图标</a>
          </li>
        
          <li>
            <a href="/project/2020/03/08/TS%20%E5%B8%B8%E7%94%A8%E7%94%A8%E6%B3%95/">TS 常用用法</a>
          </li>
        
          <li>
            <a href="/project/2020/03/08/echarts%20+%20css3%20%E5%AE%9E%E7%8E%B0%E7%8E%AF%E5%BD%A2%E5%9B%BE%E5%A4%96%E7%8E%AF%E5%8A%A8%E6%95%88/">echarts + css3 实现环形图外环动效.md</a>
          </li>
        
          <li>
            <a href="/project/2017/03/08/Set%20%E6%96%B0%E7%94%A8%E6%B3%95/">全新 Set 用法</a>
          </li>
        
          <li>
            <a href="/project/2017/03/08/cookie%20%E3%80%81localStorage%20%E3%80%81sessionStorage%20%E4%BB%A5%E5%8F%8A%20H5%20%E7%BC%93%E5%AD%98/">cookie 、localStorage 、sessionStorage 以及 H5 缓存</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 wuwenjun<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/project/" class="mobile-nav-link">Home</a>
  
    <a href="/project/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/project/js/jquery-3.6.4.min.js"></script>



  
<script src="/project/fancybox/jquery.fancybox.min.js"></script>




<script src="/project/js/script.js"></script>





  </div>
</body>
</html>